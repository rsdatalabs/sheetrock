<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css" rel="stylesheet" type="text/css">
    <link href="./css/sheetrock.css" rel="stylesheet" type="text/css">
    <title>ID Stats</title>
  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container">
        <div class="col-md-9">
          <h1 id="about">Infectious Disease Stats & Latest Updates From Major Indian Districts</h1>
          <noscript><p class="ermmror">This page requires JavaScript.</p></noscript>
          <div data-language="javascript" style="display:none">
            <!-- Load jQuery and Sheetrock from CDNJS -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sheetrock/1.1.4/dist/sheetrock.min.js"></script>
         </div>
         <script data-language="javascript">
             var mySpreadsheet = 'https://docs.google.com/spreadsheets/d/1yCqPtGEOZaY_RW4sV3vjUIx7wh_huuvTnbNh2zf0N3s/edit#gid=0';
          </script>

          <div class="operator-plus" style="display:none">
            <pre class="language-markup"><code class="mockup">
              <table id="statistics" class="table table-condensed table-striped"></table>
            </code></pre>
            <pre class="language-javascript"><code class="mockup">
            $('#statistics').sheetrock({
              url: mySpreadsheet
             });
            </code></pre>
           </div>

          <div class="example-render-group">
            <div class="example-render output" data-language="markup" data-example-class="operator-plus">
              <h4>Disease Intensity</h4>
              <ol id="team-rbi">
              <script id="team-rbi-template" type="text/x-handlebars-template">
                <li><strong>{{cells.TeamName}}</strong>, {{cells.TeamRBI}}</li>
              </script>
              </ol>
            </div>
            <script class="example-render" data-language="javascript" data-example-class="operator-equals">
              var RBITemplate = Handlebars.compile($('#team-rbi-template').html());
             $('#team-rbi').sheetrock({
                url: mySpreadsheet,
                query: "select C,count(F) group by C order by count(F) desc",
                fetchSize: 5,
                labels: ['TeamName', 'Disease Intensity'],
                rowTemplate: RBITemplate
              });
            </script>
          </div>
          
          <div class="example-render-group">
            <div data-language="markup" data-example-class="operator-plus">
             <h4>Latest Feeds</h4>
             <table id="switch-hitters" class="table table-condensed table-striped"></table>
            </div>
            <script data-language="javascript" data-example-class="operator-equals">
              $('#switch-hitters').sheetrock({
                url: mySpreadsheet,
                query: "select C,B,F,E,D where C = 'Dengue' order by B desc",
                fetchSize: 10
              });
            </script>
          </div>

         <div class="example-render-group">
            <div data-language="markup" data-example-class="operator-plus">
              <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
            </div>
            <div data-language="markup" data-example-class="operator-plus">
              <h4>Latest Feeds</h4>
              <ol id="hr">
                <script id="hr-template" type="text/x-handlebars-template">
                  <li>
                    <strong>{{cells.First}} {{cells.Last}}</strong>,
                    {{cells.Team}}, {{cells.HR}}
                  </li>
                </script>
              </ol>
            </div>
            <script data-language="javascript" data-example-class="operator-equals">
              var HRTemplate = Handlebars.compile($('#hr-template').html());
              $('#hr').sheetrock({
                url: mySpreadsheet,
                //query: "select A,C,D,I order by I desc",
                query: "select A,C,D,E order by E desc",
                fetchSize: 5,
                rowTemplate: HRTemplate
              });
            </script>
         </div>
        </div>
      </div>
    </div>


    <!-- Load Prism.js from CloudFlareâ€™s CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
    <!-- Load Bootstrap.js (for ScrollSpy) -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- Local helper code -->
    <script>
      // Mirror the "source" of a content block in its own <pre><code> block.
      var addCodeBlock = function () {

        // Get attributes to be copied to container elements.
        var language = $(this).data('language');
        var classes = $(this).data('example-class');

        // Create container tags.
        var codeTag = $('<code></code>').text(cleanMargins($(this).html()));
        var preTag = $('<pre></pre>').addClass('language-' + language).append(codeTag);
        var containerTag = $('<div></div>').addClass(classes).append(preTag);

        // Append.
        var $parent = $(this).parent('.example-render-group');

        if ($parent.length) {
          $parent.before(containerTag);
        } else {
          $(this).before(containerTag);
        }

      };

      // Clean up the margins and leading/trailing newlines.
      var cleanMargins = function (str) {
        var lines = str.replace(/^\n+/, '').replace(/[\n\t ]+$/, '').split(/\n/);
        var firstLineIndent = lines[0].match(/^[\t ]+/);
        if (firstLineIndent) {
          firstLineIndent = new RegExp(firstLineIndent[0], 'g');
          lines = $.map(lines, function (line) {
            return line.replace(firstLineIndent, '');
          });
        }
        return lines.join('\n');
      };

      // Show a jsFiddle when clicked.
      var showFiddle = function () {
        var $this = $(this);
        var attributes = ' width="100%" height="400" allowfullscreen="allowfullscreen" frameborder="0"';
        $this.before($('<iframe src="' + $this.attr('href') + 'embedded/"' + attributes + '></iframe>'));
        $this.remove();
        return false;
      };

      // Trim margins of specified content blocks.
      $('.mockup').each(function () {
        $(this).text(cleanMargins($(this).html()));
      });

      // Mirror "source" for specified tags.
      $('.example-render').each(addCodeBlock);

      // Show jsFiddles inline.
      $('.fiddle a').on('click', showFiddle);

    </script>

    <div class="github">
      <a href="https://github.com/chriszarate/sheetrock"><img src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    </div>

  </body>

</html>
